<script setup lang="ts">
const props = defineProps({
  title: String,
  text: String,
  imge: String,
  src: String,
  big: String,
})

const isModalOpen = ref(false);
const videoUrl = ref('');

const openModal = (url: string) => {
  videoUrl.value = url;
  isModalOpen.value = true;
};
</script>

<template>
  <button @click="openModal(props.src)" class="w-[425px] h-[629px] relative flex items-end sf">
    <svg xmlns="http://www.w3.org/2000/svg" width="57" height="57" viewBox="0 0 57 57" fill="none">
      <circle cx="28.0112" cy="28.1719" r="28" transform="rotate(-90 28.0112 28.1719)" fill="white"/>
      <path d="M15.2435 18.4568C15.2435 15.7291 16.3492 13.1131 18.3174 11.1843C20.2855 9.25546 22.955 8.17188 25.7384 8.17188C28.5218 8.17188 31.1913 9.25546 33.1594 11.1843C35.1276 13.1131 36.2333 15.7291 36.2333 18.4568C36.2333 18.6516 36.1544 18.8385 36.0138 18.9763C35.8732 19.114 35.6825 19.1914 35.4837 19.1914C35.2849 19.1914 35.0942 19.114 34.9536 18.9763C34.813 18.8385 34.7341 18.6516 34.7341 18.4568C34.7341 16.1187 33.7863 13.8764 32.0993 12.2232C30.4123 10.5699 28.1242 9.64115 25.7384 9.64115C23.3526 9.64115 21.0645 10.5699 19.3775 12.2232C17.6905 13.8764 16.7427 16.1187 16.7427 18.4568C16.7427 18.6516 16.6638 18.8385 16.5232 18.9763C16.3826 19.114 16.1919 19.1914 15.9931 19.1914C15.7943 19.1914 15.6036 19.114 15.463 18.9763C15.3224 18.8385 15.2435 18.6516 15.2435 18.4568ZM40.7312 27.2724C39.6179 27.2711 38.5442 27.6764 37.7195 28.4093C37.6556 27.5894 37.3589 26.8033 36.8629 26.14C36.367 25.4767 35.6916 24.9626 34.9131 24.6557C34.1346 24.3489 33.2841 24.2615 32.4576 24.4036C31.6311 24.5457 30.8617 24.9115 30.2362 25.4597V18.4568C30.2362 17.2878 29.7624 16.1666 28.9188 15.34C28.0753 14.5134 26.9313 14.049 25.7384 14.049C24.5455 14.049 23.4015 14.5134 22.5579 15.34C21.7144 16.1666 21.2406 17.2878 21.2406 18.4568V35.7208L19.1303 32.4039C18.5181 31.421 17.5376 30.7119 16.3987 30.4284C15.2598 30.1449 14.0529 30.3094 13.0362 30.8868C12.0195 31.4642 11.2737 32.4085 10.9584 33.5179C10.6431 34.6272 10.7833 35.8134 11.3491 36.8227L16.8439 46.0057C16.951 46.1579 17.1128 46.265 17.2968 46.3055C17.4809 46.346 17.6739 46.317 17.8371 46.2243C18.0004 46.1316 18.1219 45.9819 18.1775 45.8052C18.2331 45.6285 18.2187 45.4378 18.1371 45.271L12.6441 36.0881C12.2464 35.413 12.1388 34.6107 12.3447 33.8578C12.5507 33.1049 13.0534 32.463 13.7423 32.0733C14.4312 31.6836 15.2498 31.5781 16.0181 31.7799C16.7864 31.9818 17.4414 32.4744 17.8391 33.1495L17.8522 33.1716L21.353 38.6813C21.439 38.8173 21.5679 38.9221 21.7202 38.9797C21.8724 39.0373 22.0397 39.0446 22.1967 39.0006C22.3536 38.9565 22.4915 38.8635 22.5896 38.7356C22.6876 38.6077 22.7404 38.4519 22.7398 38.292V18.4568C22.7398 17.6774 23.0558 16.93 23.6181 16.3789C24.1804 15.8278 24.9431 15.5182 25.7384 15.5182C26.5337 15.5182 27.2964 15.8278 27.8587 16.3789C28.421 16.93 28.7369 17.6774 28.7369 18.4568V30.9456C28.7369 31.1405 28.8159 31.3273 28.9565 31.4651C29.0971 31.6029 29.2878 31.6803 29.4866 31.6803C29.6854 31.6803 29.8761 31.6029 30.0167 31.4651C30.1572 31.3273 30.2362 31.1405 30.2362 30.9456V28.7417C30.2362 27.9624 30.5521 27.2149 31.1145 26.6638C31.6768 26.1128 32.4395 25.8032 33.2348 25.8032C34.0301 25.8032 34.7927 26.1128 35.3551 26.6638C35.9174 27.2149 36.2333 27.9624 36.2333 28.7417V32.4149C36.2333 32.6097 36.3123 32.7966 36.4529 32.9344C36.5935 33.0721 36.7842 33.1495 36.983 33.1495C37.1818 33.1495 37.3725 33.0721 37.5131 32.9344C37.6536 32.7966 37.7326 32.6097 37.7326 32.4149V31.6803C37.7326 30.9009 38.0485 30.1535 38.6109 29.6024C39.1732 29.0513 39.9359 28.7417 40.7312 28.7417C41.5264 28.7417 42.2891 29.0513 42.8515 29.6024C43.4138 30.1535 43.7297 30.9009 43.7297 31.6803V38.292C43.7297 42.4537 42.3223 45.2821 42.3092 45.3096C42.265 45.3959 42.2387 45.4899 42.2317 45.5863C42.2247 45.6826 42.2371 45.7793 42.2683 45.8709C42.2994 45.9625 42.3487 46.0472 42.4133 46.1201C42.4779 46.193 42.5565 46.2527 42.6446 46.2959C42.7489 46.3464 42.8637 46.3728 42.9801 46.373C43.1194 46.3731 43.2559 46.3352 43.3744 46.2635C43.4929 46.1918 43.5887 46.0892 43.651 45.9671C43.7147 45.8404 45.229 42.821 45.229 38.292V31.6803C45.229 30.5112 44.7551 29.3901 43.9116 28.5635C43.0681 27.7368 41.9241 27.2724 40.7312 27.2724Z" fill="black"/>
    </svg>
    <nuxt-img class="absolute z-0 cover" :src="imge" :class="big" />
    <div class="relative z-1 pb-[50px] px-[30px] sfs">
      <h3 class="uppercase text-[35px] font-[700]">{{ title }}</h3>
      <p class="text-[25] font-[500] max-w-[330px]">{{ text }}</p>
    </div>
  </button>
  <VideoModal :isOpen="isModalOpen" :videoUrl="videoUrl" @update:isOpen="isModalOpen = $event" />
</template>

<style scoped lang="scss">
svg{
  position: absolute;
  top: 30px;
  right: 30px;
}
.sf{
  border: 3px solid #fff;
  border-radius: 40px;
  background: url('/image/blog/video/bg.png') no-repeat center;
}
.cover{
  width: 360px;
  height: auto;
}
.sfs{
  border-radius: 100px;
}
.bbis{
  left: -50px;
  width: 500px;
}
.bis{
  left: -60px;
  width: 800px;
}
@media screen and (max-width: 425px) {
  .sf{
    width: 390px !important;
    height: 629px;
    & h3{
      font-size: 26px;
    }
    & p{
      font-size: 18px;
    }
  }
}
</style>